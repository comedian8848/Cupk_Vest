# å‰ç«¯äº¤äº’å¢žå¼ºä¸Ž AI æŠ¥å‘ŠæŽ¥å…¥è®¾è®¡

> åˆ›å»ºæ—¥æœŸ: 2026-01-18

## 1. æ¦‚è¿°

### 1.1 ç›®æ ‡
å¢žå¼º BlackOil è‚¡ç¥¨åˆ†æžç³»ç»Ÿçš„å‰ç«¯äº¤äº’èƒ½åŠ›ï¼Œå¹¶æŽ¥å…¥ AIï¼ˆClaude APIï¼‰ç”Ÿæˆæ·±åº¦åˆ†æžæŠ¥å‘Šã€‚

### 1.2 æ ¸å¿ƒéœ€æ±‚
| åŠŸèƒ½ | ä¼˜å…ˆçº§ | è¯´æ˜Ž |
|------|--------|------|
| è¡Œä¸šå¯¹æ¯”æ¨¡å¼ | P0 | è‚¡ç¥¨ä¸Žè¡Œä¸šå¹³å‡æ°´å¹³çš„å¹¶æŽ’å¯¹æ¯” |
| AI è§£è¯»æ‘˜è¦ | P0 | è‡ªåŠ¨ç”Ÿæˆè´¢æŠ¥è§£è¯»æ‘˜è¦ |
| AI æŠ•èµ„å»ºè®® | P0 | åŸºäºŽæ•°æ®çš„æŠ•èµ„å»ºè®®ï¼ˆä¹°å…¥/æŒæœ‰/å–å‡ºï¼‰ |
| AI èµ°åŠ¿é¢„æµ‹ | P1 | ä»·æ ¼åŒºé—´é¢„æµ‹ + æ ¸å¿ƒé©±åŠ¨å› ç´  |

### 1.3 æŠ€æœ¯é€‰åž‹
- **AI API**: å…¼å®¹ Anthropic API çš„ç¬¬ä¸‰æ–¹æœåŠ¡ï¼ˆMiniMax/deepseekç­‰ï¼‰
- **å‰ç«¯æ¡†æž¶**: React 19 + Recharts
- **åŽç«¯æ¡†æž¶**: Flask

---

## 2. è¡Œä¸šå¯¹æ¯”äº¤äº’åŠŸèƒ½

### 2.1 é¡µé¢å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº¤äº’åˆ†æž  â”‚  æ•°æ®å›¾è¡¨  â”‚  è¶‹åŠ¿  â”‚  ä¼°å€¼  â”‚  è´¢åŠ¡  â”‚  æŠ€æœ¯   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           [å½“å‰è‚¡ç¥¨] vs [è¡Œä¸šå¹³å‡] å¯¹æ¯”                    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  æŒ‡æ ‡          å½“å‰è‚¡ç¥¨    è¡Œä¸šå¹³å‡    å·®å¼‚               â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚  ROE          18.5%      12.3%      +6.2% â†‘ ä¼˜äºŽè¡Œä¸š    â”‚ â”‚
â”‚  â”‚  æ¯›åˆ©çŽ‡       45.2%      38.7%      +6.5% â†‘ ä¼˜äºŽè¡Œä¸š    â”‚ â”‚
â”‚  â”‚  å‡€åˆ©çŽ‡       22.1%      15.4%      +6.7% â†‘ ä¼˜äºŽè¡Œä¸š    â”‚ â”‚
â”‚  â”‚  è´Ÿå€ºçŽ‡       35.2%      42.8%      -7.6% â†“ ä¼˜äºŽè¡Œä¸š    â”‚ â”‚
â”‚  â”‚  PE(TTM)      18.5       24.2       -5.7  â†“ ä¼°å€¼æ›´ä½Ž    â”‚ â”‚
â”‚  â”‚  è‚¡æ¯çŽ‡       3.2%       1.8%       +1.4% â†‘ ä¼˜äºŽè¡Œä¸š    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å¯è§†åŒ–å¯¹æ¯”å›¾ï¼ˆé›·è¾¾å›¾/æŸ±çŠ¶å›¾ï¼‰                             â”‚ â”‚
â”‚  â”‚  [è‚¡ç¥¨] â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘            â”‚ â”‚
â”‚  â”‚  [è¡Œä¸š] â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ ¸å¿ƒäº¤äº’ç‰¹æ€§

| ç‰¹æ€§ | è¯´æ˜Ž |
|------|------|
| å¹¶æŽ’å¯¹æ¯” | å·¦ä¾§è‚¡ç¥¨æ•°æ®ï¼Œå³ä¾§è¡Œä¸šå‡å€¼ï¼Œä¸€ç›®äº†ç„¶ |
| å·®å¼‚é«˜äº® | ç»¿è‰²ç®­å¤´â†‘ä¼˜äºŽè¡Œä¸šï¼Œçº¢è‰²ç®­å¤´â†“å¼±äºŽè¡Œä¸š |
| å¯è§†åŒ–é›·è¾¾ | å…­ç»´èƒ½åŠ›é›·è¾¾å›¾å åŠ è¡Œä¸šåŸºå‡†çº¿ |
| åŠ¨æ€ç­›é€‰ | å¯é€‰æ‹©ä¸åŒè¡Œä¸šæŒ‡æ•°ä½œä¸ºå¯¹æ¯”åŸºå‡† |
| å¯¼å‡ºå¯¹æ¯” | ä¸€é”®ç”Ÿæˆå¯¹æ¯”æŠ¥å‘Š |

### 2.3 æ–°å¢žæ–‡ä»¶

```
web_dashboard/src/components/
â”œâ”€â”€ IndustryComparison/       # æ–°å¢žï¼šè¡Œä¸šå¯¹æ¯”æ¨¡å—
â”‚   â”œâ”€â”€ index.jsx            # ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ ComparisonTable.jsx  # å¯¹æ¯”è¡¨æ ¼
â”‚   â”œâ”€â”€ ComparisonRadar.jsx  # é›·è¾¾å›¾å¯¹æ¯”
â”‚   â””â”€â”€ styles.css           # æ ·å¼
```

---

## 3. AI æŠ¥å‘ŠæŽ¥å…¥è®¾è®¡

### 3.1 æ•´ä½“æž¶æž„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å‰ç«¯ React å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ AIè§£è¯»æŒ‰é’®  â”‚  â”‚ æŠ•èµ„å»ºè®®    â”‚  â”‚  èµ°åŠ¿é¢„æµ‹å¡ç‰‡            â”‚ â”‚
â”‚  â”‚ [ç‚¹å‡»ç”Ÿæˆ]  â”‚  â”‚ [è‡ªåŠ¨å±•ç¤º]  â”‚  â”‚  [å›¾è¡¨+ç½®ä¿¡åŒºé—´]        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ API è°ƒç”¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      åŽç«¯ Flask å±‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  /api/ai-analyze (POST)                                 â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ æŽ¥æ”¶æŠ¥å‘Šæ•°æ®                                        â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ æž„å»º prompt (ç»“æž„åŒ–)                                â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ è°ƒç”¨ Claude API                                     â”‚   â”‚
â”‚  â”‚  â”œâ”€â”€ è§£æž JSON å“åº”                                      â”‚   â”‚
â”‚  â”‚  â””â”€â”€ è¿”å›žç»“æž„åŒ–ç»“æžœ                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Claude API (å…¼å®¹ç¬¬ä¸‰æ–¹)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  System: ä½ æ˜¯ä¸“ä¸šé‡‘èžåˆ†æžå¸ˆ                              â”‚   â”‚
â”‚  â”‚  User: {ç»“æž„åŒ–è´¢åŠ¡æ•°æ® + åˆ†æžè¦æ±‚}                       â”‚   â”‚
â”‚  â”‚  â†’ Assistant: JSONæ ¼å¼åˆ†æžæŠ¥å‘Š                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 AI æŠ¥å‘Šå†…å®¹ç»“æž„

```json
{
  "interpretation": {
    "summary": "è´µå·žèŒ…å°2024å¹´è´¢æŠ¥æ˜¾ç¤º...",
    "highlights": [
      "è¥æ”¶çªç ´1200äº¿ï¼ŒåŒæ¯”å¢žé•¿17%",
      "æ¯›åˆ©çŽ‡ç»´æŒåœ¨91%ï¼ŒæŠ¤åŸŽæ²³ç¨³å›º"
    ],
    "risks": [
      "ä¼°å€¼å¤„äºŽåŽ†å²é«˜ä½ï¼Œéœ€è­¦æƒ•å›žè°ƒ"
    ]
  },
  "investment_advice": {
    "rating": "æŒæœ‰",
    "rating_score": 4,
    "target_price": 1850.00,
    "stop_loss": 1550.00,
    "position": "10-15%",
    "reasoning": "åŸºæœ¬é¢æ‰Žå®žï¼Œä½†çŸ­æœŸä¼°å€¼åé«˜..."
  },
  "forecast": {
    "next_quarter_revenue": {
      "low": 320,
      "mid": 350,
      "high": 380,
      "unit": "äº¿å…ƒ"
    },
    "one_year_price": {
      "low": 1600,
      "mid": 1950,
      "high": 2300,
      "confidence": "80%"
    },
    "key_drivers": ["èŒ…å°é…’æä»·", "ç”Ÿè‚–é…’æ”¾é‡", "ç›´é”€å æ¯”æå‡"]
  }
}
```

### 3.3 å‰ç«¯å±•ç¤ºè®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  [AIæ·±åº¦åˆ†æžæŠ¥å‘Š]                           [åˆ·æ–°] ðŸ”„    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€ æ‰§è¡Œæ‘˜è¦ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è´µå·žèŒ…å°2024å¹´åº¦ä¸šç»©è¡¨çŽ°ç¨³å¥ï¼Œè¥æ”¶çªç ´1200äº¿ï¼Œ          â”‚  â”‚
â”‚  â”‚  åŒæ¯”å¢žé•¿17%ï¼Œå‡€åˆ©æ¶¦å¢žé€ŸåŒ¹é…è¥æ”¶å¢žé•¿ã€‚æ¯›åˆ©çŽ‡ç»´æŒ         â”‚  â”‚
â”‚  â”‚  åœ¨91%é«˜ä½ï¼Œå½°æ˜¾å¼ºå¤§çš„å“ç‰Œæº¢ä»·èƒ½åŠ›ã€‚                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€ æŠ•èµ„å»ºè®® â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚  â”‚
â”‚  â”‚  â”‚ è¯„çº§    â”‚ ç›®æ ‡ä»·        â”‚ æ­¢æŸä»·             â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ â­â­â­â­ â”‚ Â¥1,850        â”‚ Â¥1,550             â”‚     â”‚  â”‚
â”‚  â”‚  â”‚ æŒæœ‰    â”‚ (+15%)        â”‚ (-13%)             â”‚     â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  å»ºè®®ä»“ä½: 10-15%  â”‚ é£Žé™©ç­‰çº§: ä¸­ä½Ž                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€ èµ°åŠ¿é¢„æµ‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚     2300 â”¤                                     â— é«˜     â”‚  â”‚
â”‚  â”‚          â”‚                           â—               â”‚  â”‚
â”‚  â”‚     1950 â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ä¸­        â”‚  â”‚
â”‚  â”‚          â”‚                                               â”‚  â”‚
â”‚  â”‚     1600 â”¤            â—                    ä½Ž          â”‚  â”‚
â”‚  â”‚          â”‚                                           â”‚  â”‚
â”‚  â”‚     1200 â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚  â”‚
â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚  â”‚
â”‚  â”‚           å½“å‰          1å¹´ç›®æ ‡ (ç½®ä¿¡åº¦80%)             â”‚  â”‚
â”‚  â”‚                                                         â”‚  â”‚
â”‚  â”‚  æ ¸å¿ƒé©±åŠ¨: èŒ…å°é…’æä»· | ç”Ÿè‚–é…’æ”¾é‡ | ç›´é”€å æ¯”æå‡        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. çµæ´»çš„ API é…ç½®è®¾è®¡

### 4.1 è®¾è®¡åŽŸåˆ™
å‚è€ƒ Claude Code é…ç½®æ–¹å¼ï¼Œé€šè¿‡çŽ¯å¢ƒå˜é‡æŽ§åˆ¶ API æ¥æºï¼Œä¿æŒä»£ç å…¼å®¹ã€‚

### 4.2 çŽ¯å¢ƒå˜é‡

```bash
# .env é…ç½®ç¤ºä¾‹

# AI API é…ç½®ï¼ˆå¿…éœ€ï¼‰
ANTHROPIC_API_KEY=your-api-key
ANTHROPIC_BASE_URL=https://api.minimaxi.com/anthropic
ANTHROPIC_MODEL=MiniMax-M2.1

# ä»£ç†é…ç½®ï¼ˆå¯é€‰ï¼‰
HTTP_PROXY=http://127.0.0.1:7897
HTTPS_PROXY=http://127.0.0.1:7897

# è¶…æ—¶é…ç½®ï¼ˆå¯é€‰ï¼Œé»˜è®¤60ç§’ï¼‰
API_TIMEOUT_MS=60000
```

### 4.3 æ”¯æŒçš„ç¬¬ä¸‰æ–¹ API

| æä¾›å•† | Base URL | ç‰¹ç‚¹ |
|--------|----------|------|
| MiniMax | `https://api.minimaxi.com/anthropic` | å›½å†…è®¿é—®å¿«ï¼Œå…¼å®¹ Anthropic æ ¼å¼ |
| ç¡…åŸºæµåŠ¨ | `https://api.siliconflow.cn/v1` | å¤šæ¨¡åž‹é€‰æ‹© |
| æ™ºè°± AI | `https://open.bigmodel.cn/anthropic` | æ”¯æŒ GLM ç³»åˆ— |
| OpenAI å®˜æ–¹ | `https://api.openai.com/v1` | éœ€è¦ä»£ç† |
| æœ¬åœ° Ollama | `http://localhost:11434/v1` | å®Œå…¨æœ¬åœ°åŒ– |

### 4.4 ç»Ÿä¸€å®¢æˆ·ç«¯å®žçŽ°

```python
# stock_analysis/ai_client.py

import os
import anthropic
from typing import Optional

class UnifiedAIClient:
    """
    ç»Ÿä¸€çš„ AI å®¢æˆ·ç«¯ï¼Œæ”¯æŒå¤šç§ API æä¾›å•†
    å‚è€ƒ Claude Code é…ç½®æ–¹å¼ï¼Œé€šè¿‡çŽ¯å¢ƒå˜é‡æŽ§åˆ¶
    """

    def __init__(self):
        self.api_key = os.getenv("ANTHROPIC_API_KEY")
        self.base_url = os.getenv("ANTHROPIC_BASE_URL")
        self.model = os.getenv("ANTHROPIC_MODEL", "claude-sonnet-4-20250514")
        self.timeout = int(os.getenv("API_TIMEOUT_MS", "60000"))

        if not self.api_key:
            raise ValueError("æœªè®¾ç½® ANTHROPIC_API_KEY çŽ¯å¢ƒå˜é‡")

        self.client = anthropic.Anthropic(
            api_key=self.api_key,
            base_url=self.base_url,
            timeout=self.timeout,
        )

    def analyze(self, prompt: str, max_tokens: int = 4096) -> str:
        """è°ƒç”¨ AI åˆ†æž"""
        response = self.client.messages.create(
            model=self.model,
            max_tokens=max_tokens,
            messages=[{"role": "user", "content": prompt}]
        )
        return response.content[0].text
```

### 4.5 Prompt è®¾è®¡

```python
SYSTEM_PROMPT = """ä½ æ˜¯æ‹¥æœ‰20å¹´ç»éªŒçš„èµ„æ·±é‡‘èžåˆ†æžå¸ˆï¼Œç²¾é€šåŸºæœ¬é¢åˆ†æžã€ä¼°å€¼å»ºæ¨¡ã€è´¢æŠ¥è§£è¯»ã€‚

åˆ†æžæ¡†æž¶:
1. è¯»å–è´¢åŠ¡æ•°æ®ï¼ˆè¥æ”¶ã€åˆ©æ¶¦ã€çŽ°é‡‘æµã€ROEç­‰ï¼‰
2. å¯¹æ¯”è¡Œä¸šå¹³å‡æ°´å¹³
3. åˆ†æžå¢žé•¿è¶‹åŠ¿å’Œè´¨é‡
4. è¯„ä¼°ä¼°å€¼åˆç†æ€§
5. ç»™å‡ºæ˜Žç¡®çš„æŠ•èµ„å»ºè®®

è¾“å‡ºè¦æ±‚:
- å¿…é¡»è¾“å‡º JSON æ ¼å¼
- æŠ•èµ„å»ºè®®éœ€åŒ…å«è¯„çº§ã€ç›®æ ‡ä»·ã€æ­¢æŸä»·ã€å»ºè®®ä»“ä½
- é¢„æµ‹éœ€åŒ…å«ä¹è§‚/ä¸­æ€§/æ‚²è§‚ä¸‰ä¸ªåŒºé—´
"""

USER_PROMPT_TEMPLATE = """
ä½œä¸ºèµ„æ·±é‡‘èžåˆ†æžå¸ˆï¼Œè¯·åˆ†æžä»¥ä¸‹è‚¡ç¥¨æ•°æ®ï¼š

## è‚¡ç¥¨åŸºæœ¬ä¿¡æ¯
- ä»£ç : {code}
- åç§°: {name}
- è¡Œä¸š: {industry}

## æ ¸å¿ƒè´¢åŠ¡æŒ‡æ ‡
- è¥æ”¶: {revenue}äº¿å…ƒ (åŒæ¯”{revenue_yoy}%)
- å‡€åˆ©æ¶¦: {net_profit}äº¿å…ƒ (åŒæ¯”{profit_yoy}%)
- ROE: {roe}%
- æ¯›åˆ©çŽ‡: {gross_margin}%
- å‡€åˆ©çŽ‡: {net_margin}%
- è´Ÿå€ºçŽ‡: {debt_ratio}%
- è‚¡æ¯çŽ‡: {dividend_yield}%

## ä¼°å€¼æ•°æ®
- å½“å‰ä»·æ ¼: Â¥{price}
- PE(TTM): {pe_ttm}
- PB: {pb}
- DCFä¼°å€¼: Â¥{dcf_value}
- DCFå®‰å…¨è¾¹é™…: {dcf_margin}%

## è¡Œä¸šå¹³å‡ï¼ˆå¯¹æ¯”åŸºå‡†ï¼‰
{industry_avg_json}

è¯·ä»¥JSONæ ¼å¼è¾“å‡ºæ·±åº¦åˆ†æžæŠ¥å‘Šã€‚
"""
```

### 4.6 API æŽ¥å£

```python
# stock_analysis/server.py

@app.route('/api/ai-analyze', methods=['POST'])
def ai_analyze():
    """AI æ·±åº¦åˆ†æžæŽ¥å£"""
    data = request.json
    code = data.get('code')
    report_id = data.get('report_id')

    # èŽ·å–è‚¡ç¥¨åˆ†æžæ•°æ®
    stock_data = get_stock_data(code)

    # è°ƒç”¨ AI åˆ†æž
    ai_analyzer = UnifiedAIClient()
    result = ai_analyzer.analyze_stock(stock_data)

    return jsonify(result)
```

---

## 5. æ–‡ä»¶å˜æ›´æ¸…å•

### 5.1 æ–°å¢žæ–‡ä»¶

```
stock_analysis/
â”œâ”€â”€ ai_client.py           # ç»Ÿä¸€ AI å®¢æˆ·ç«¯
â”œâ”€â”€ ai_analyzer.py         # AI åˆ†æžé€»è¾‘
â””â”€â”€ diagnose_ai.py         # AI é…ç½®è¯Šæ–­è„šæœ¬

web_dashboard/src/components/
â”œâ”€â”€ IndustryComparison/
â”‚   â”œâ”€â”€ index.jsx          # è¡Œä¸šå¯¹æ¯”ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ ComparisonTable.jsx
â”‚   â”œâ”€â”€ ComparisonRadar.jsx
â”‚   â””â”€â”€ styles.css
â”œâ”€â”€ AIReport/
â”‚   â”œâ”€â”€ index.jsx          # AI æŠ¥å‘Šä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ InvestmentAdvice.jsx
â”‚   â””â”€â”€ PriceForecast.jsx
```

### 5.2 ä¿®æ”¹æ–‡ä»¶

```
stock_analysis/
â”œâ”€â”€ server.py              # æ–°å¢ž /api/ai-analyze æŽ¥å£
â”œâ”€â”€ config.py              # æ–°å¢ž AI é…ç½®é¡¹

web_dashboard/src/
â”œâ”€â”€ App.jsx                # æ–°å¢ž AI æŠ¥å‘Šå±•ç¤ºåŒºåŸŸ
â”œâ”€â”€ App.css                # æ–°å¢ž AI æŠ¥å‘Šæ ·å¼
â””â”€â”€ api.js                 # æ–°å¢ž AI API è°ƒç”¨å‡½æ•°

.env.example               # æ–°å¢ž AI ç›¸å…³çŽ¯å¢ƒå˜é‡ç¤ºä¾‹
```

---

## 6. å®žæ–½è®¡åˆ’

### é˜¶æ®µä¸€ï¼šAI æŠ¥å‘ŠæŽ¥å…¥
- [ ] å®žçŽ° `ai_client.py` ç»Ÿä¸€å®¢æˆ·ç«¯
- [ ] å®žçŽ° `ai_analyzer.py` åˆ†æžé€»è¾‘
- [ ] æ–°å¢ž `/api/ai-analyze` åŽç«¯æŽ¥å£
- [ ] å‰ç«¯æ–°å¢ž AI æŠ¥å‘Šå±•ç¤ºç»„ä»¶
- [ ] é…ç½®æ–‡æ¡£å’Œè¯Šæ–­è„šæœ¬

### é˜¶æ®µäºŒï¼šè¡Œä¸šå¯¹æ¯”åŠŸèƒ½
- [ ] æ–°å¢ž `IndustryComparison` ç»„ä»¶
- [ ] å¯¹æ¯”è¡¨æ ¼å’Œé›·è¾¾å›¾
- [ ] é›†æˆåˆ°äº¤äº’åˆ†æžæ ‡ç­¾é¡µ
- [ ] å¯¼å‡ºåŠŸèƒ½

### é˜¶æ®µä¸‰ï¼šä¼˜åŒ–ä¸Žæµ‹è¯•
- [ ] AI åˆ†æžç»“æžœç¼“å­˜
- [ ] é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- [ ] åŠ è½½çŠ¶æ€ä¼˜åŒ–
- [ ] å¤š API æä¾›å•†æµ‹è¯•

---

## 7. é™„å½•

### 7.1 Claude Code é…ç½®å‚è€ƒ

```json
{
  "env": {
    "ANTHROPIC_AUTH_TOKEN": "sk-xxx",
    "ANTHROPIC_BASE_URL": "https://api.minimaxi.com/anthropic",
    "ANTHROPIC_DEFAULT_OPUS_MODEL": "MiniMax-M2.1",
    "ANTHROPIC_DEFAULT_SONNET_MODEL": "MiniMax-M2.1",
    "ANTHROPIC_MODEL": "MiniMax-M2.1",
    "HTTPS_PROXY": "http://127.0.0.1:7897",
    "HTTP_PROXY": "http://127.0.0.1:7897"
  }
}
```

### 7.2 ä¾èµ–å®‰è£…

```bash
# å®‰è£… Anthropic SDK
pip install anthropic

# æˆ–ä»Ž requirements.txt
echo "anthropic>=0.28.0" >> stock_analysis/requirements.txt
```
